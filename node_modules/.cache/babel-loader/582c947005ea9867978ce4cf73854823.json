{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maher\\\\OneDrive\\\\Desktop\\\\JIRA Clone\\\\src\\\\pages\\\\Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Announcement from '../components/Announcement';\nimport Board from '../components/Board';\nimport Footer from '../components/Footer';\nimport TaskList from '../components/TaskList';\nimport { publicRequest } from '../requestMethode';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { InitToDoItems } from '../redux/toDoItemsReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\ndisplay:flex;flex-direction:column;\n`;\n_c = Container;\nexport const Home = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [toDoItems, setToDoItems] = useState([]);\n\n  const initStatusForToDoItems = items => {\n    items.map(el => {\n      if (el.completed) {\n        el.status = 2;\n      }\n\n      if (!el.completed) {\n        el.status = 0;\n      }\n    });\n    return items;\n  };\n\n  useEffect(() => {\n    const getToDoItems = async () => {\n      try {\n        const res = await publicRequest.get(`todos`);\n        var items = initStatusForToDoItems(res.data);\n        setToDoItems(items);\n        dispatch(InitToDoItems({\n          toDoItems: items\n        }));\n        setIsLoaded(true);\n      } catch (error) {\n        setIsLoaded(true);\n        setError(error);\n      }\n    };\n\n    getToDoItems();\n  }, []);\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Erreur : \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 12\n    }, this);\n  } else if (!isLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Chargement...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Announcement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n        todoList: toDoItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Board, {\n        todoList: toDoItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this);\n  }\n};\n\n_s(Home, \"tvgkoqZ69JoepzP5f2iaiAHJkhI=\", false, function () {\n  return [useDispatch];\n});\n\n_c2 = Home;\nexport default Home;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Home\");","map":{"version":3,"sources":["C:/Users/maher/OneDrive/Desktop/JIRA Clone/src/pages/Home.jsx"],"names":["React","useState","useEffect","styled","Announcement","Board","Footer","TaskList","publicRequest","useSelector","useDispatch","InitToDoItems","Container","div","Home","dispatch","error","setError","isLoaded","setIsLoaded","toDoItems","setToDoItems","initStatusForToDoItems","items","map","el","completed","status","getToDoItems","res","get","data","message"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,WAAT,EAAqBC,WAArB,QAAwC,aAAxC;AACA,SAASC,aAAT,QAA8B,2BAA9B;;AAEA,MAAMC,SAAS,GAAGT,MAAM,CAACU,GAAI;AAC7B;AACA,CAFA;KAAMD,S;AAIN,OAAO,MAAME,IAAI,GAAG,MAAM;AAAA;;AAEtB,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AAEF,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACmB,SAAD,EAAWC,YAAX,IAA2BpB,QAAQ,CAAC,EAAD,CAAzC;;AAGA,QAAMqB,sBAAsB,GAAGC,KAAD,IAAS;AACrCA,IAAAA,KAAK,CAACC,GAAN,CAAUC,EAAE,IAAE;AAEN,UAAGA,EAAE,CAACC,SAAN,EACA;AACQD,QAAAA,EAAE,CAACE,MAAH,GAAU,CAAV;AACP;;AACD,UAAG,CAACF,EAAE,CAACC,SAAP,EACA;AACQD,QAAAA,EAAE,CAACE,MAAH,GAAU,CAAV;AACP;AAEJ,KAXL;AAaI,WAAOJ,KAAP;AACL,GAfD;;AAkBArB,EAAAA,SAAS,CAAC,MAAI;AAEZ,UAAM0B,YAAY,GAAG,YAAU;AAC3B,UAAG;AACC,cAAMC,GAAG,GAAI,MAAMrB,aAAa,CAACsB,GAAd,CAAmB,OAAnB,CAAnB;AAIA,YAAIP,KAAK,GAAGD,sBAAsB,CAACO,GAAG,CAACE,IAAL,CAAlC;AAEAV,QAAAA,YAAY,CAACE,KAAD,CAAZ;AAEAR,QAAAA,QAAQ,CAACJ,aAAa,CAAC;AAACS,UAAAA,SAAS,EAACG;AAAX,SAAD,CAAd,CAAR;AAEAJ,QAAAA,WAAW,CAAC,IAAD,CAAX;AAEC,OAbL,CAcI,OAAMH,KAAN,EACA;AACIG,QAAAA,WAAW,CAAC,IAAD,CAAX;AACAF,QAAAA,QAAQ,CAACD,KAAD,CAAR;AACH;AAAC,KAnBV;;AAoBQY,IAAAA,YAAY;AAGvB,GAzBU,EAyBT,EAzBS,CAAT;;AA2BA,MAAIZ,KAAJ,EAAW;AACT,wBAAO;AAAA,8BAAeA,KAAK,CAACgB,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,GAFD,MAEO,IAAI,CAACd,QAAL,EAAe;AACpB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,GAFM,MAEA;AACL,wBAEI,QAAC,SAAD;AAAA,8BACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,cADJ,eAGM,QAAC,QAAD;AAAU,QAAA,QAAQ,EAAEE;AAApB;AAAA;AAAA;AAAA;AAAA,cAHN,eAIM,QAAC,KAAD;AAAU,QAAA,QAAQ,EAAEA;AAApB;AAAA;AAAA;AAAA;AAAA,cAJN,eAKM,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cALN;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAUD;AAGF,CAxEM;;GAAMN,I;UAEQJ,W;;;MAFRI,I;AAyEb,eAAeA,IAAf","sourcesContent":["import React, { useState,useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Announcement from '../components/Announcement'\r\nimport Board from '../components/Board';\r\nimport Footer from '../components/Footer'\r\nimport TaskList from '../components/TaskList';\r\nimport { publicRequest } from '../requestMethode';\r\nimport { useSelector,useDispatch } from \"react-redux\";\r\nimport { InitToDoItems } from '../redux/toDoItemsReducer';\r\n\r\nconst Container = styled.div`\r\ndisplay:flex;flex-direction:column;\r\n`;\r\n\r\nexport const Home = () => {\r\n  \r\n    const dispatch = useDispatch();\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [toDoItems,setToDoItems] = useState([]);\r\n\r\n\r\n  const initStatusForToDoItems =(items)=>{\r\n    items.map(el=>{\r\n\r\n            if(el.completed)\r\n            {\r\n                    el.status=2;\r\n            }\r\n            if(!el.completed)\r\n            {\r\n                    el.status=0;\r\n            }\r\n           \r\n        })\r\n\r\n        return items;\r\n  }\r\n\r\n\r\n  useEffect(()=>{\r\n\r\n    const getToDoItems = async ()=>{\r\n        try{\r\n            const res  = await publicRequest.get(`todos`);\r\n            \r\n      \r\n\r\n            var items = initStatusForToDoItems(res.data);\r\n           \r\n            setToDoItems(items);\r\n\r\n            dispatch(InitToDoItems({toDoItems:items}));\r\n\r\n            setIsLoaded(true);\r\n       \r\n            }\r\n            catch(error)\r\n            {\r\n                setIsLoaded(true);\r\n                setError(error);\r\n            }}\r\n            getToDoItems(); \r\n\r\n\r\n},[]);\r\n\r\n  if (error) {\r\n    return <div>Erreur : {error.message}</div>;\r\n  } else if (!isLoaded) {\r\n    return <div>Chargement...</div>;\r\n  } else {\r\n    return (\r\n      \r\n        <Container>\r\n            <Announcement />\r\n           \r\n              <TaskList todoList={toDoItems}/>\r\n              <Board    todoList={toDoItems}/>\r\n              <Footer/>\r\n        </Container>\r\n)\r\n  }\r\n\r\n   \r\n}\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}